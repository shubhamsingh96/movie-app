[{"/Users/shubham/Documents/personal-projects/movie-app/src/App.js":"1","/Users/shubham/Documents/personal-projects/movie-app/src/index.js":"2","/Users/shubham/Documents/personal-projects/movie-app/src/components/Header.js":"3","/Users/shubham/Documents/personal-projects/movie-app/src/reportWebVitals.js":"4","/Users/shubham/Documents/personal-projects/movie-app/src/components/MovieCard.js":"5","/Users/shubham/Documents/personal-projects/movie-app/src/components/Pagination.js":"6"},{"size":2489,"mtime":1610482233053,"results":"7","hashOfConfig":"8"},{"size":500,"mtime":1610463485234,"results":"9","hashOfConfig":"8"},{"size":538,"mtime":1610474027941,"results":"10","hashOfConfig":"8"},{"size":362,"mtime":1610463485236,"results":"11","hashOfConfig":"8"},{"size":945,"mtime":1610471391941,"results":"12","hashOfConfig":"8"},{"size":2242,"mtime":1610482463579,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},"a3rfy7",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/shubham/Documents/personal-projects/movie-app/src/App.js",["28"],"import \"./App.css\";\nimport React, { useEffect, useState } from \"react\";\nimport Header from \"./components/Header\";\nimport MovieCard from \"./components/MovieCard\";\nimport Pagination from \"./components/Pagination\";\n\nconst API_KEY = \"cedf719006a6f825628d9ee8fb790415\";\n\nconst App = () => {\n  const [searchText, setSearchText] = useState(\"\");\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const [lastPage, setLastPage] = useState(1);\n  const [isSearchMode, setIsSearchMode] = useState(false);\n\n\n  const handleApiCall = (url) => {\n    fetch(url)\n      .then((res) => res.json())\n      .then((res) => {\n        setMovies(res.results);\n        setCurrentPage(res.page)\n        setLastPage(res.total_pages);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  useEffect(() => {\n    if(isSearchMode){\n      const url = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${searchText}&page=${currentPage}&include_adult=false`;\n      handleApiCall(url);\n    } else {\n      const url = `https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=en-US&page=${currentPage}`;\n      handleApiCall(url);\n    }\n  }, [currentPage,isSearchMode])\n\n\n  useEffect(() => {\n    if(searchText === '' && isSearchMode){\n      setCurrentPage(1);\n      setIsSearchMode(false);\n    }\n  }, [searchText,isSearchMode])\n\n\n\n  const handleTextChange = ({ target: { value } }) => {\n    setError(\"\");\n    setSearchText(value);\n  };\n\n  const handleGetMovies = (e) => {\n    e.preventDefault();\n    if (searchText === \"\") {\n      setError(\"Please type a movie name to search\");\n      return;\n    }\n    setCurrentPage(1);\n    setIsSearchMode(true);\n  };\n\n  return (\n    <div className=\"App\">\n      <Header\n        handleTextChange={handleTextChange}\n        handleGetMovies={handleGetMovies}\n      />\n      <div>\n        {error !== \"\" && <p className=\"error-message\">{error}</p>}\n        {movies.map((movie) => (\n          <MovieCard movie={movie} key={movie.id} />\n        ))}\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"flex-end\",\n            margin: \"30px 0 0 0\",\n            padding: \"0 30px\",\n          }}\n        >\n          <Pagination\n            currentPage={currentPage}\n            lastPage={lastPage}\n            onClick={(pg) => setCurrentPage(pg)}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","/Users/shubham/Documents/personal-projects/movie-app/src/index.js",[],["29","30"],"/Users/shubham/Documents/personal-projects/movie-app/src/components/Header.js",[],"/Users/shubham/Documents/personal-projects/movie-app/src/reportWebVitals.js",[],"/Users/shubham/Documents/personal-projects/movie-app/src/components/MovieCard.js",[],"/Users/shubham/Documents/personal-projects/movie-app/src/components/Pagination.js",["31","32"],{"ruleId":"33","severity":1,"message":"34","line":37,"column":6,"nodeType":"35","endLine":37,"endColumn":32,"suggestions":"36"},{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","severity":1,"message":"42","line":40,"column":7,"nodeType":"43","endLine":40,"endColumn":86},{"ruleId":"41","severity":1,"message":"42","line":61,"column":9,"nodeType":"43","endLine":61,"endColumn":94},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'searchText'. Either include it or remove the dependency array.","ArrayExpression",["44"],"no-native-reassign",["45"],"no-negated-in-lhs",["46"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute",{"desc":"47","fix":"48"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [currentPage, isSearchMode, searchText]",{"range":"49","text":"50"},[1242,1268],"[currentPage, isSearchMode, searchText]"]